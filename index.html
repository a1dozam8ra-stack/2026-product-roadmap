<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 Product Roadmap</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Overpass:wght@300;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Overpass', sans-serif;
            background-color: #FFFFFF;
            color: #274C77;
            line-height: 1.6;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header Section */
        .header {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 3px solid #6096BA;
        }

        .header h1 {
            font-size: 4.5rem;
            font-weight: 800;
            color: #274C77;
            margin-bottom: 10px;
            letter-spacing: -1px;
        }

        .header .subtitle {
            font-size: 1.2rem;
            font-weight: 700;
            color: #6096BA;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        /* Filter Bar */
        .filter-bar {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-bottom: 50px;
            padding: 20px;
            background-color: #F8F9FA;
            border-radius: 8px;
        }

        .filter-btn {
            padding: 12px 24px;
            background-color: #FFFFFF;
            color: #274C77;
            border: 2px solid #6096BA;
            border-radius: 6px;
            font-family: 'Overpass', sans-serif;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.25s ease;
            text-transform: none;
        }

        .filter-btn:hover {
            background-color: #A3CEF1;
            transform: translateY(-2px);
        }

        .filter-btn.active {
            background-color: #6096BA;
            color: #FFFFFF;
        }

        .filter-btn:focus {
            outline: 2px solid #274C77;
            outline-offset: 2px;
        }

        /* Search Container */
        .search-container {
            position: relative;
            max-width: 500px;
            margin: 0 auto 40px;
        }

        .search-input {
            width: 100%;
            padding: 14px 50px 14px 20px;
            font-family: 'Overpass', sans-serif;
            font-size: 1rem;
            color: #274C77;
            background-color: #FFFFFF;
            border: 2px solid #6096BA;
            border-radius: 8px;
            transition: all 0.25s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #274C77;
            box-shadow: 0 0 0 3px rgba(96, 150, 186, 0.2);
        }

        .search-input::placeholder {
            color: #6096BA;
            opacity: 0.7;
        }

        .search-icon {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
            pointer-events: none;
            opacity: 0.6;
        }

        /* Month Section */
        .month-section {
            margin-bottom: 60px;
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        .month-header {
            display: flex;
            align-items: baseline;
            gap: 15px;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #6096BA;
        }

        .month-name {
            font-size: 2.5rem;
            font-weight: 800;
            color: #274C77;
        }

        .launch-count {
            font-size: 1rem;
            font-weight: 600;
            color: #6096BA;
            padding: 4px 12px;
            background-color: #E7ECEF;
            border-radius: 20px;
        }

        /* Game Cards */
        .game-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .game-card {
            background-color: #FFFFFF;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(39, 76, 119, 0.12);
            transition: all 0.3s ease;
            overflow: hidden;
            opacity: 0;
            transform: translateY(20px);
            animation: slideIn 0.4s ease forwards;
        }

        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .game-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 30px rgba(39, 76, 119, 0.18);
        }

        /* Section 1: Target Market */
        .card-section-market {
            padding: 24px 28px;
            border-bottom: 1px solid rgba(96, 150, 186, 0.2);
        }

        /* Section 2: Game Title */
        .card-section-title {
            padding: 28px;
            border-bottom: 1px solid rgba(96, 150, 186, 0.2);
            position: relative;
        }

        /* Section 3: Details Grid */
        .card-section-details {
            padding: 24px 28px;
        }

        .section-label {
            font-size: 0.75rem;
            font-weight: 700;
            color: #6096BA;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 8px;
        }

        .section-value {
            font-size: 1rem;
            font-weight: 600;
            color: #274C77;
        }

        .game-title-value {
            font-size: 1.8rem;
            font-weight: 800;
            color: #274C77;
            letter-spacing: -0.5px;
            line-height: 1.2;
        }

        .status-badge {
            position: absolute;
            top: 24px;
            right: 28px;
            background-color: #8BC34A;
            color: #FFFFFF;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .multi-theme-value {
            font-size: 1rem;
            font-weight: 600;
            color: #274C77;
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 24px;
        }

        .detail-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .hardware-list {
            list-style: none;
            padding-left: 0;
        }

        .hardware-list li {
            font-size: 0.85rem;
            color: #274C77;
            padding-left: 20px;
            position: relative;
            margin-bottom: 6px;
            line-height: 1.4;
        }

        .hardware-list li::before {
            content: "‚Ä¢";
            color: #6096BA;
            font-weight: 700;
            font-size: 1.2rem;
            position: absolute;
            left: 0;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #6096BA;
        }

        .empty-state p {
            font-size: 1.2rem;
            font-weight: 600;
        }

        /* Loading State */
        .loading-state {
            text-align: center;
            padding: 60px 20px;
            color: #6096BA;
        }

        .loading-state p {
            font-size: 1.2rem;
            font-weight: 600;
        }

        /* Collapsible Checklist Section */
        .checklist-section {
            border-top: 1px solid rgba(96, 150, 186, 0.2);
        }

        .checklist-toggle {
            width: 100%;
            padding: 20px 28px;
            background-color: #F8F9FA;
            border: none;
            font-family: 'Overpass', sans-serif;
            font-size: 0.95rem;
            font-weight: 700;
            color: #274C77;
            text-align: left;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.25s ease;
        }

        .checklist-toggle:hover {
            background-color: #E7ECEF;
        }

        .checklist-toggle-icon {
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .checklist-toggle.active .checklist-toggle-icon {
            transform: rotate(180deg);
        }

        .checklist-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            background-color: #FFFFFF;
        }

        .checklist-content.active {
            max-height: 5000px;
        }

        .checklist-inner {
            padding: 24px 28px;
        }

        .checklist-category {
            margin-bottom: 24px;
        }

        .checklist-category:last-child {
            margin-bottom: 0;
        }

        .checklist-category-title {
            font-size: 0.85rem;
            font-weight: 700;
            color: #6096BA;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(96, 150, 186, 0.2);
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 8px;
            font-size: 0.85rem;
            color: #274C77;
        }

        .checklist-item input[type="checkbox"] {
            margin-top: 3px;
            cursor: pointer;
            width: 16px;
            height: 16px;
            flex-shrink: 0;
        }

        .checklist-item label {
            cursor: pointer;
            line-height: 1.4;
        }

        .checklist-notes {
            margin-top: 12px;
        }

        .checklist-notes textarea {
            width: 100%;
            min-height: 60px;
            padding: 10px;
            font-family: 'Overpass', sans-serif;
            font-size: 0.85rem;
            color: #274C77;
            border: 1px solid #6096BA;
            border-radius: 4px;
            resize: vertical;
        }

        .checklist-notes textarea:focus {
            outline: none;
            border-color: #274C77;
            box-shadow: 0 0 0 2px rgba(96, 150, 186, 0.2);
        }

        /* Responsive Adjustments for SharePoint Embedding */
        @media (max-width: 1400px) {
            .container {
                max-width: 100%;
            }

            .header h1 {
                font-size: 3.5rem;
            }

            .filter-bar {
                gap: 10px;
            }

            .filter-btn {
                padding: 10px 18px;
                font-size: 0.9rem;
            }

            .search-container {
                max-width: 100%;
                margin-bottom: 30px;
            }

            .details-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 700px) {
            .header h1 {
                font-size: 2.8rem;
            }

            .header .subtitle {
                font-size: 1rem;
                letter-spacing: 2px;
            }

            .month-name {
                font-size: 2rem;
            }

            .game-title-value {
                font-size: 1.5rem;
            }

            .card-section-market,
            .card-section-details {
                padding: 20px 24px;
            }

            .card-section-title {
                padding: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>2026</h1>
            <div class="subtitle">Product Roadmap</div>
        </header>

        <div class="filter-bar" role="toolbar" aria-label="Filter by market">
            <button class="filter-btn active" data-market="all" aria-pressed="true">All Markets</button>
            <button class="filter-btn" data-market="MD Bingo Market" aria-pressed="false">MD Bingo Market</button>
            <button class="filter-btn" data-market="Ontario" aria-pressed="false">Ontario</button>
            <button class="filter-btn" data-market="New Mexico" aria-pressed="false">New Mexico</button>
            <button class="filter-btn" data-market="MO Lottery" aria-pressed="false">MO Lottery</button>
            <button class="filter-btn" data-market="MI Lottery" aria-pressed="false">MI Lottery</button>
            <button class="filter-btn" data-market="Maryland ITLM" aria-pressed="false">Maryland ITLM</button>
            <button class="filter-btn" data-market="North Dakota" aria-pressed="false">North Dakota</button>
            <button class="filter-btn" data-market="Idaho" aria-pressed="false">Idaho</button>
            <button class="filter-btn" data-market="Ohio" aria-pressed="false">Ohio</button>
            <button class="filter-btn" data-market="Virginia" aria-pressed="false">Virginia</button>
        </div>

        <div class="search-container">
            <input 
                type="text" 
                id="game-search" 
                class="search-input" 
                placeholder="Search by game name..."
                aria-label="Search games by name"
            >
            <span class="search-icon">üîç</span>
        </div>

        <div id="timeline-container">
            <div class="loading-state">
                <p>Loading roadmap data...</p>
            </div>
        </div>
    </div>

    <script>
        // Global data variable
        let roadmapData = null;

        const monthNames = [
            "January", "February", "March", "April", "May", "June",
            "July", "August", "September", "October", "November", "December"
        ];

        // Load data from external JSON file
        async function loadRoadmapData() {
            try {
                const response = await fetch('roadmap-data.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Error loading roadmap data:', error);
                // Show error message to user
                const container = document.getElementById('timeline-container');
                container.innerHTML = `
                    <div class="empty-state">
                        <p>Error loading roadmap data. Please make sure roadmap-data.json is in the same directory.</p>
                    </div>
                `;
                return { launches: [] };
            }
        }

        // Calculate launch counts per market
        function calculateMarketCounts() {
            if (!roadmapData) return {};
            
            const counts = {};
            
            roadmapData.launches.forEach(launch => {
                const market = launch.target_market;
                if (!counts[market]) {
                    counts[market] = 0;
                }
                
                // Count individual games
                if (launch.multi_game && launch.games.length > 1) {
                    counts[market] += launch.games.length;
                } else {
                    counts[market] += 1;
                }
            });
            
            return counts;
        }

        // Update filter button labels with counts
        function updateFilterCounts() {
            const counts = calculateMarketCounts();
            const filterButtons = document.querySelectorAll('.filter-btn');
            let totalCount = 0;
            
            // Calculate total
            Object.values(counts).forEach(count => totalCount += count);
            
            filterButtons.forEach(button => {
                const market = button.dataset.market;
                const originalText = button.textContent.split(' (')[0]; // Remove existing count if any
                
                if (market === 'all') {
                    button.textContent = `All Markets (${totalCount})`;
                } else if (counts[market]) {
                    button.textContent = `${originalText} (${counts[market]})`;
                } else {
                    button.textContent = `${originalText} (0)`;
                }
            });
        }

        function renderTimeline(filterMarket = 'all', searchQuery = '') {
            if (!roadmapData) return;
            
            const container = document.getElementById('timeline-container');
            
            // Normalize search query
            const normalizedSearch = searchQuery.toLowerCase().trim();
            
            // Group launches by month
            const launchesByMonth = {};
            
            roadmapData.launches.forEach(launch => {
                // Apply market filter
                if (filterMarket !== 'all' && launch.target_market !== filterMarket) {
                    return;
                }

                if (!launchesByMonth[launch.month]) {
                    launchesByMonth[launch.month] = [];
                }
                
                // Handle multi-game launches
                if (launch.multi_game && launch.games.length > 1) {
                    launch.games.forEach(gameName => {
                        // Apply search filter
                        if (normalizedSearch && !gameName.toLowerCase().includes(normalizedSearch)) {
                            return;
                        }
                        launchesByMonth[launch.month].push({
                            ...launch,
                            gameName: gameName
                        });
                    });
                } else {
                    const gameName = launch.games[0];
                    // Apply search filter
                    if (normalizedSearch && !gameName.toLowerCase().includes(normalizedSearch)) {
                        return;
                    }
                    launchesByMonth[launch.month].push({
                        ...launch,
                        gameName: gameName
                    });
                }
            });

            // Clear container
            container.innerHTML = '';

            // Check if we have any results
            const monthKeys = Object.keys(launchesByMonth).sort((a, b) => a - b);
            
            if (monthKeys.length === 0) {
                const message = normalizedSearch 
                    ? `No games found matching "${searchQuery}"`
                    : 'No launches found for the selected market.';
                container.innerHTML = `
                    <div class="empty-state">
                        <p>${message}</p>
                    </div>
                `;
                return;
            }

            // Render each month section
            monthKeys.forEach((monthNum, sectionIndex) => {
                const monthIndex = parseInt(monthNum) - 1;
                const monthName = monthNames[monthIndex];
                const launches = launchesByMonth[monthNum];
                
                const monthSection = document.createElement('div');
                monthSection.className = 'month-section';
                monthSection.style.animationDelay = `${sectionIndex * 0.1}s`;
                
                monthSection.innerHTML = `
                    <div class="month-header">
                        <h2 class="month-name">${monthName}</h2>
                        <span class="launch-count">${launches.length} ${launches.length === 1 ? 'launch' : 'launches'}</span>
                    </div>
                    <div class="game-list">
                        ${launches.map((launch, cardIndex) => renderGameCard(launch, cardIndex)).join('')}
                    </div>
                `;
                
                container.appendChild(monthSection);
            });
        }

        function renderGameCard(launch, index) {
            const multiThemeValue = launch.multi_game ? 'Yes' : 'No';
            const statusBadge = launch.status === 'approved' 
                ? '<div class="status-badge">Approved</div>' 
                : '';

            // Hardware sections (only render if there are items)
            const hasMotherboards = launch.motherboards.selected && launch.motherboards.selected.length > 0;
            const hasCabinets = launch.cabinets.selected && launch.cabinets.selected.length > 0;

            let hardwareHTML = '';
            
            if (hasMotherboards) {
                hardwareHTML += `
                    <div class="detail-item">
                        <div class="section-label">Motherboard(s)</div>
                        <ul class="hardware-list">
                            ${launch.motherboards.selected.map(mb => `<li>${mb}</li>`).join('')}
                        </ul>
                    </div>
                `;
            }

            if (hasCabinets) {
                hardwareHTML += `
                    <div class="detail-item">
                        <div class="section-label">Cabinet(s)</div>
                        <ul class="hardware-list">
                            ${launch.cabinets.selected.map(cab => `<li>${cab}</li>`).join('')}
                        </ul>
                    </div>
                `;
            }

            return `
                <div class="game-card" style="animation-delay: ${index * 0.05}s">
                    <!-- Section 1: Market -->
                    <div class="card-section-market">
                        ${statusBadge}
                        <div class="section-label">Market</div>
                        <div class="section-value">${launch.target_market}</div>
                    </div>
                    
                    <!-- Section 2: Game Title -->
                    <div class="card-section-title">
                        <div class="section-label">Game Title</div>
                        <div class="game-title-value">${launch.gameName}</div>
                    </div>
                    
                    <!-- Section 3: Details Grid -->
                    <div class="card-section-details">
                        <div class="details-grid">
                            <div class="detail-item">
                                <div class="section-label">Multi-Theme</div>
                                <div class="multi-theme-value">${multiThemeValue}</div>
                            </div>
                            ${hardwareHTML}
                        </div>
                    </div>
                    
                    <!-- Section 4: Release Checklist -->
                    <div class="checklist-section">
                        <button class="checklist-toggle" onclick="toggleChecklist(this)">
                            <span>Release Checklist</span>
                            <span class="checklist-toggle-icon">‚ñº</span>
                        </button>
                        <div class="checklist-content">
                            <div class="checklist-inner">
                                
                                <!-- 1. Assets & Content Readiness -->
                                <div class="checklist-category">
                                    <div class="checklist-category-title">1. Assets & Content Readiness</div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="asset-images-${index}">
                                        <label for="asset-images-${index}">All required images prepared (logos, screenshots, marketing images)</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="asset-video-${index}">
                                        <label for="asset-video-${index}">Gameplay/video capture available (if required)</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="asset-formats-${index}">
                                        <label for="asset-formats-${index}">Asset formats meet market/regulatory specs</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="asset-reviewed-${index}">
                                        <label for="asset-reviewed-${index}">Assets reviewed for accuracy vs. final game behavior</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="asset-approved-${index}">
                                        <label for="asset-approved-${index}">Assets approved for submission and internal use</label>
                                    </div>
                                    <div class="checklist-notes">
                                        <textarea placeholder="Notes..."></textarea>
                                    </div>
                                </div>

                                <!-- 2. Product Readiness -->
                                <div class="checklist-category">
                                    <div class="checklist-category-title">2. Product Readiness</div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="product-overview-${index}">
                                        <label for="product-overview-${index}">Product Overview is complete and approved</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="product-gameplay-${index}">
                                        <label for="product-gameplay-${index}">Core gameplay, features, and mechanics finalized</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="product-requirements-${index}">
                                        <label for="product-requirements-${index}">Market-specific requirements confirmed</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="product-alignment-${index}">
                                        <label for="product-alignment-${index}">Stakeholder alignment confirmed (no open product questions)</label>
                                    </div>
                                    <div class="checklist-notes">
                                        <textarea placeholder="Notes..."></textarea>
                                    </div>
                                </div>

                                <!-- 3. Market Product Submission & Approval -->
                                <div class="checklist-category">
                                    <div class="checklist-category-title">3. Market Product Submission & Approval (Pre-QA)</div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="submission-prepared-${index}">
                                        <label for="submission-prepared-${index}">Product submission prepared per market</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="submission-materials-${index}">
                                        <label for="submission-materials-${index}">Required materials sent (overview, assets, videos, demos)</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="submission-feedback-${index}">
                                        <label for="submission-feedback-${index}">Market questions or feedback addressed</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="submission-approval-${index}">
                                        <label for="submission-approval-${index}">Formal market approval received and documented</label>
                                    </div>
                                    <div class="checklist-notes">
                                        <textarea placeholder="Notes..."></textarea>
                                    </div>
                                </div>

                                <!-- 4. Math Request & Approval -->
                                <div class="checklist-category">
                                    <div class="checklist-category-title">4. Math Request & Approval</div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="math-request-${index}">
                                        <label for="math-request-${index}">Math request submitted with all required details</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="math-approved-${index}">
                                        <label for="math-approved-${index}">Math approved by Math Owner</label>
                                    </div>
                                    <div class="checklist-notes">
                                        <textarea placeholder="Notes (RTP, prize structure, etc.)..."></textarea>
                                    </div>
                                </div>

                                <!-- 5. ADO Requirements & Documentation -->
                                <div class="checklist-category">
                                    <div class="checklist-category-title">5. ADO Requirements & Documentation</div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="ado-items-${index}">
                                        <label for="ado-items-${index}">ADO work items created or updated</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="ado-criteria-${index}">
                                        <label for="ado-criteria-${index}">Acceptance criteria reflect approved math and product</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="ado-requirements-${index}">
                                        <label for="ado-requirements-${index}">Requirements aligned to market-approved submission</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="ado-dependencies-${index}">
                                        <label for="ado-dependencies-${index}">Dependencies and risks documented</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="ado-linked-${index}">
                                        <label for="ado-linked-${index}">Work items linked to release / sprint / epic</label>
                                    </div>
                                    <div class="checklist-notes">
                                        <textarea placeholder="Notes..."></textarea>
                                    </div>
                                </div>

                                <!-- 6. QA Handoff -->
                                <div class="checklist-category">
                                    <div class="checklist-category-title">6. QA Handoff</div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="qa-documentation-${index}">
                                        <label for="qa-documentation-${index}">QA documentation prepared</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="qa-build-${index}">
                                        <label for="qa-build-${index}">Build version and feature list confirmed</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="qa-risks-${index}">
                                        <label for="qa-risks-${index}">Known risks or edge cases communicated</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="qa-kickoff-${index}">
                                        <label for="qa-kickoff-${index}">QA kickoff completed</label>
                                    </div>
                                    <div class="checklist-notes">
                                        <textarea placeholder="Notes..."></textarea>
                                    </div>
                                </div>

                                <!-- 7. Internal QA Support -->
                                <div class="checklist-category">
                                    <div class="checklist-category-title">7. Internal QA Support</div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="qa-questions-${index}">
                                        <label for="qa-questions-${index}">Product questions from QA answered</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="qa-decisions-${index}">
                                        <label for="qa-decisions-${index}">Product decisions made on issues</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="qa-scope-${index}">
                                        <label for="qa-scope-${index}">Scope changes assessed and approved/denied</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="qa-pass-${index}">
                                        <label for="qa-pass-${index}">QA pass confirmation received</label>
                                    </div>
                                    <div class="checklist-notes">
                                        <textarea placeholder="Notes..."></textarea>
                                    </div>
                                </div>

                                <!-- 8. Market Certification & Approval -->
                                <div class="checklist-category">
                                    <div class="checklist-category-title">8. Market-Specific Certification & Approval</div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="cert-submission-${index}">
                                        <label for="cert-submission-${index}">Submitted to appropriate lab/regulatory body</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="cert-uat-${index}">
                                        <label for="cert-uat-${index}">UAT completed (if applicable)</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="cert-approval-${index}">
                                        <label for="cert-approval-${index}">Final certification/approval received</label>
                                    </div>
                                    <div class="checklist-notes">
                                        <textarea placeholder="Notes (lab, certification details, etc.)..."></textarea>
                                    </div>
                                </div>

                                <!-- 9. Market Release Readiness -->
                                <div class="checklist-category">
                                    <div class="checklist-category-title">9. Market Release Readiness</div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="release-build-${index}">
                                        <label for="release-build-${index}">Final approved build confirmed</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="release-date-${index}">
                                        <label for="release-date-${index}">Release date aligned with operations</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="release-notes-${index}">
                                        <label for="release-notes-${index}">Release notes / internal communication prepared</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="release-live-${index}">
                                        <label for="release-live-${index}">Game marked Live on roadmap/dashboard</label>
                                    </div>
                                    <div class="checklist-notes">
                                        <textarea placeholder="Notes..."></textarea>
                                    </div>
                                </div>

                                <!-- 10. Post-Release Wrap-Up -->
                                <div class="checklist-category">
                                    <div class="checklist-category-title">10. Post-Release Wrap-Up</div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="post-issues-${index}">
                                        <label for="post-issues-${index}">Post-launch issues reviewed</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="post-learnings-${index}">
                                        <label for="post-learnings-${index}">Learnings documented</label>
                                    </div>
                                    <div class="checklist-item">
                                        <input type="checkbox" id="post-archived-${index}">
                                        <label for="post-archived-${index}">Checklist archived</label>
                                    </div>
                                    <div class="checklist-notes">
                                        <textarea placeholder="Notes..."></textarea>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Toggle checklist visibility
        function toggleChecklist(button) {
            button.classList.toggle('active');
            const content = button.nextElementSibling;
            content.classList.toggle('active');
        }

        // Filter functionality
        let currentMarket = 'all';
        let currentSearch = '';

        function initializeFilters() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Update active state
                    filterButtons.forEach(btn => {
                        btn.classList.remove('active');
                        btn.setAttribute('aria-pressed', 'false');
                    });
                    this.classList.add('active');
                    this.setAttribute('aria-pressed', 'true');
                    
                    // Update current market and render
                    currentMarket = this.dataset.market;
                    renderTimeline(currentMarket, currentSearch);
                });

                // Keyboard accessibility
                button.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        this.click();
                    }
                });
            });
        }

        function initializeSearch() {
            const searchInput = document.getElementById('game-search');
            
            // Real-time search with debounce
            let searchTimeout;
            searchInput.addEventListener('input', function() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    currentSearch = this.value;
                    renderTimeline(currentMarket, currentSearch);
                }, 300); // 300ms debounce
            });
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', async function() {
            // Load data from JSON file
            roadmapData = await loadRoadmapData();
            
            // Only proceed if data loaded successfully
            if (roadmapData && roadmapData.launches) {
                updateFilterCounts();
                renderTimeline();
                initializeFilters();
                initializeSearch();
            }
        });
    </script>
</body>
</html>
